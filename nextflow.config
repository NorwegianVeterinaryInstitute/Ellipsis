process {
  conda = '/cluster/projects/nn9305k/src/miniconda/envs/plasmidpipeline'
}

process {
    executor = 'slurm'
    clusterOptions = '--job-name=hk_nxf_test --account=nn9305k --mem-per-cpu=4700M'
    queueSize = 24
    maxRetries = 1
    errorStrategy='retry'

    cpus = 4
    withLabel: medium {cpus = 8}
    withLabel: heavy {cpus = 12}

    time = { 2.h * task.attempt }
    withLabel: longtime {time = { 4.h * task.attempt }}
}


workflow.onComplete = {
    println "Ellipsis Complete!"
    println "Command line: $workflow.commandLine"
    println "Nextflow Version: $workflow.nextflow.version"
    println "Duration: $workflow.duration"
    println "Output Directory: $params.out_dir"
}
